{% extends 'ServicePage.html' %}  
{% block top_scripts %}   
 <script>
    var source = new EventSource("/progress");
    source.onmessage = function(event) {
        $('.progress-bar').css('width', event.data+'%').attr('aria-valuenow', event.data);
        $('.progress-bar-label').text(event.data+'%');
        if(event.data == 100){
            source.close()
            window.location.replace(window.location.pathname.split("/")[0] + "/");
        }
    }    

    // window.onclick = function() {
        $( window ).on( "load",function() {
    var anchors = document.getElementsByTagName("a");
    console.log(anchors)
    for (var i = 0; i < anchors.length; i++) {
    console.log(anchors)

        anchors[i].classList.add("not-active")
        // anchors[i].onclick = function() {return false;};
    }
});
    </script>
    {% endblock %}
    
    {% block styles %}
    <style type="text/css">
      .not-active {
            pointer-events: none;
            cursor: default;
            text-decoration: none;
            color: rgba(153, 153, 153, 0.815)!important; 
        }
    </style>
    {% endblock %}
{% block card_title %} SMP is Restarting... {% endblock %}
{% block card_header %} Retriving Data {% endblock %}
{% block card_content %}
<div class="alert alert-primary" role="alert">
    Kindly wait till all data is loaded
  </div> 
 <p>The SMP Site is restaring....SMP will re-direct you immediatly to homepage when done</p>

    <div class="progress">

        <div class="progress-bar progress-bar active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <span class="progress-bar-label"></span>
        </div>
    </div>
{% endblock %}

